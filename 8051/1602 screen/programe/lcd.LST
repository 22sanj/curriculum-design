C51 COMPILER V9.01   LCD                                                                   09/18/2018 17:08:06 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE LCD
OBJECT MODULE PLACED IN lcd.OBJ
COMPILER INVOKED BY: D:\keil4\C51\BIN\C51.EXE lcd.c BROWSE INCDIR(..\programe) DEBUG OBJECTEXTEND

line level    source

   1          #include "lcd.h"
   2          
   3          void Init() //初始化
   4           {
   5   1         Write_Instruction(0x38);
   6   1         Delay(200);
   7   1      
   8   1         Write_Instruction(0x0e);
   9   1         Delay(200);
  10   1      
  11   1         Write_Instruction(0x06);
  12   1         Delay(200);
  13   1       }
  14          
  15           void Delay(u16 x)      //延时函数
  16           {
  17   1              while(x--);
  18   1       }
  19           
  20           void Write_Instruction(u8 x)   //命令写入函数
  21           {
  22   1              Delay(1000);
  23   1              E = 0;
  24   1              RW = 0;
  25   1              RS = 0; 
  26   1      
  27   1              LCDData=x;//命令符
  28   1              E = 1;
  29   1              Delay(20);
  30   1              E = 0;
  31   1       
  32   1       }
  33          
  34           void Write_Data(u8 x)  //数据写入操作，单个数据
  35          {
  36   1              Delay(1000);
  37   1              E = 0;
  38   1              RW = 0;
  39   1              RS = 1;
  40   1              
  41   1              E = 1;
  42   1              LCDData = x;
  43   1              E = 0;
  44   1                                                                                                                
             -                                                                                                                        
             -                                    
  45   1      }
  46          
  47          void Write_String(u8 x,u8 *p)  //写入字符串
  48          {
  49   1              Write_Instruction(x);
  50   1              while(*p !=0x00)
  51   1              {
  52   2                      Write_Data(*p);
  53   2                      p++;
C51 COMPILER V9.01   LCD                                                                   09/18/2018 17:08:06 PAGE 2   

  54   2                      if(x++ == 0x8f)
  55   2                      {
  56   3                              Write_Instruction(0xc0);                
  57   3                      }
  58   2              }
  59   1      
  60   1      
  61   1      
  62   1      
  63   1      }
  64          
  65          
  66          void Cls(void)  //清屏
  67          {
  68   1              Write_Instruction(0x01);
  69   1      
  70   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    133    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
